<html>
<head><meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<style type="text/css">
<!--
span.cls_002{font-family:Arial,serif;font-size:7.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_002{font-family:Arial,serif;font-size:7.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_003{font-family:"Palatino Linotype",serif;font-size:24.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_003{font-family:"Palatino Linotype",serif;font-size:24.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_004{font-family:"Palatino Linotype",serif;font-size:22.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_004{font-family:"Palatino Linotype",serif;font-size:22.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_005{font-family:"Palatino Linotype",serif;font-size:11.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_005{font-family:"Palatino Linotype",serif;font-size:11.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_007{font-family:"Palatino Linotype Bold",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_007{font-family:"Palatino Linotype Bold",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_008{font-family:"Palatino Linotype",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_008{font-family:"Palatino Linotype",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_009{font-family:"Palatino Linotype Italic",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
div.cls_009{font-family:"Palatino Linotype Italic",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:italic;text-decoration: none}
span.cls_010{font-family:"Palatino Linotype",serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_010{font-family:"Palatino Linotype",serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_011{font-family:Arial,serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_011{font-family:Arial,serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_012{font-family:"Palatino Linotype Bold",serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_012{font-family:"Palatino Linotype Bold",serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_013{font-family:"Palatino Linotype Bold",serif;font-size:9.0px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_013{font-family:"Palatino Linotype Bold",serif;font-size:9.0px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_014{font-family:"Palatino Linotype",serif;font-size:25.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_014{font-family:"Palatino Linotype",serif;font-size:25.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_015{font-family:"Palatino Linotype Bold",serif;font-size:10.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_015{font-family:"Palatino Linotype Bold",serif;font-size:10.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_016{font-family:"Palatino Linotype",serif;font-size:7.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_016{font-family:"Palatino Linotype",serif;font-size:7.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_017{font-family:Arial,serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_017{font-family:Arial,serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_018{font-family:Arial,serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_018{font-family:Arial,serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_019{font-family:Arial,serif;font-size:7.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_019{font-family:Arial,serif;font-size:7.1px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_020{font-family:"Palatino Linotype",serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_020{font-family:"Palatino Linotype",serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_021{font-family:"Palatino Linotype Bold",serif;font-size:10.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_021{font-family:"Palatino Linotype Bold",serif;font-size:10.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_023{font-family:"Palatino Linotype",serif;font-size:5.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_023{font-family:"Palatino Linotype",serif;font-size:5.6px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_034{font-family:"Palatino Linotype",serif;font-size:9.5px;color:rgb(0,50,153);font-weight:normal;font-style:normal;text-decoration: underline}
div.cls_034{font-family:"Palatino Linotype",serif;font-size:9.5px;color:rgb(0,50,153);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_025{font-family:"Palatino Linotype",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_025{font-family:"Palatino Linotype",serif;font-size:8.0px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_027{font-family:"Palatino Linotype Bold",serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_027{font-family:"Palatino Linotype Bold",serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_028{font-family:"Palatino Linotype Bold",serif;font-size:9.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_028{font-family:"Palatino Linotype Bold",serif;font-size:9.1px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_030{font-family:Arial,serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
div.cls_030{font-family:Arial,serif;font-size:9.5px;color:rgb(0,0,0);font-weight:normal;font-style:normal;text-decoration: none}
span.cls_031{font-family:Arial,serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_031{font-family:Arial,serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
span.cls_032{font-family:Arial,serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
div.cls_032{font-family:Arial,serif;font-size:11.6px;color:rgb(0,0,0);font-weight:bold;font-style:normal;text-decoration: none}
-->
</style>
<script type="text/javascript" src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/wz_jsgraphics.js"></script>
</head>
<body>
<div style="position:absolute;left:50%;margin-left:-306px;top:0px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/background1.jpg" width=612 height=792></div>
<div style="position:absolute;left:58.50px;top:30.43px" class="cls_002"><span class="cls_002">CS 117 FINAL PROJECT REPORT ANTHONY LIU 79553180</span></div>
<div style="position:absolute;left:555.36px;top:30.43px" class="cls_002"><span class="cls_002">1</span></div>
<div style="position:absolute;left:130.86px;top:58.22px" class="cls_003"><span class="cls_003">CS117 3D Reconstruction Project</span></div>
<div style="position:absolute;left:209.46px;top:94.22px" class="cls_004"><span class="cls_004">Final Project Report</span></div>
<div style="position:absolute;left:164.22px;top:126.97px" class="cls_005"><span class="cls_005">Anthony Liu - 79553180 - University of California, Irvine</span></div>
<div style="position:absolute;left:82.50px;top:160.21px" class="cls_007"><span class="cls_007">Abstract</span><span class="cls_008">—The system, named “3D Reconstruction Project”, assembles a complete pipeline for modern 3D high definition</span></div>
<div style="position:absolute;left:82.50px;top:170.71px" class="cls_008"><span class="cls_008">scanning. The basic task of such system is to reconstruct an object with two cameras from different angles, a projector projecting</span></div>
<div style="position:absolute;left:82.50px;top:181.21px" class="cls_008"><span class="cls_008">structured light, and proper algorithms. This system was originally proposed for high speed </span><span class="cls_009">real-time</span><span class="cls_008"> 3D reconstruction,</span></div>
<div style="position:absolute;left:82.50px;top:191.71px" class="cls_008"><span class="cls_008">however, due to issues of funding and resourcing, it was downgraded to a system resembling still 3D objects. There is a certain</span></div>
<div style="position:absolute;left:82.50px;top:202.21px" class="cls_008"><span class="cls_008">degree of error comparing the output 3D shape to the original 3D object, primarily due to camera distortion, image blurring,</span></div>
<div style="position:absolute;left:82.50px;top:212.71px" class="cls_008"><span class="cls_008">alignment accuracy, and other factors. Nevertheless, this system is accurate enough resembling less complex objects. Available</span></div>
<div style="position:absolute;left:82.50px;top:223.21px" class="cls_008"><span class="cls_008">in Python-MATLAB or MATLAB versions.</span></div>
<div style="position:absolute;left:82.50px;top:245.71px" class="cls_007"><span class="cls_007">Keywords </span><span class="cls_008">— Stereo imaging, calibration, graycode, triangulation, mesh, mesh alignment, Poisson Surface Reconstruction,</span></div>
<div style="position:absolute;left:82.50px;top:256.21px" class="cls_008"><span class="cls_008">MeshLab, MATLAB, Python, OpenCV, NumPy, Scipy, Matplotlib</span></div>
<div style="position:absolute;left:202.08px;top:271.99px" class="cls_010"><span class="cls_010">——————————   </span><span class="cls_011"></span><span class="cls_010">   ——————————</span></div>
<div style="position:absolute;left:58.50px;top:292.63px" class="cls_012"><span class="cls_012">1   I</span><span class="cls_013">NTRODUCTION</span></div>
<div style="position:absolute;left:73.74px;top:310.51px" class="cls_010"><span class="cls_010">he system primarily relies on the algorithms developed</span></div>
<div style="position:absolute;left:58.50px;top:305.42px" class="cls_014"><span class="cls_014">T</span></div>
<div style="position:absolute;left:73.74px;top:322.03px" class="cls_010"><span class="cls_010">through out the CS117 course in UC Irvine, e.g. trian-</span></div>
<div style="position:absolute;left:314.82px;top:325.63px" class="cls_012"><span class="cls_012">2   S</span><span class="cls_013">YSTEM </span><span class="cls_012">O</span><span class="cls_013">VERVIEW AND </span><span class="cls_012">D</span><span class="cls_013">ESCRIPTIONS</span></div>
<div style="position:absolute;left:58.51px;top:333.49px" class="cls_010"><span class="cls_010">gulation, meshing, reconstruction. Nevertheless, moving</span></div>
<div style="position:absolute;left:58.51px;top:345.01px" class="cls_010"><span class="cls_010">from MATLAB coding space to Python was not an easy job,</span></div>
<div style="position:absolute;left:58.51px;top:356.53px" class="cls_010"><span class="cls_010">and there has been a lot of corrections and new features</span></div>
<div style="position:absolute;left:58.51px;top:367.99px" class="cls_010"><span class="cls_010">implemented to the newer code files. There were severe in-</span></div>
<div style="position:absolute;left:58.50px;top:379.51px" class="cls_010"><span class="cls_010">compatibility issues found throughout the coding process,</span></div>
<div style="position:absolute;left:58.50px;top:391.03px" class="cls_010"><span class="cls_010">and at times I was unable to continue coding in Python due</span></div>
<div style="position:absolute;left:58.50px;top:402.49px" class="cls_010"><span class="cls_010">to outraging reconstruction inaccuracy and therefore re-</span></div>
<div style="position:absolute;left:58.50px;top:414.01px" class="cls_010"><span class="cls_010">start the whole project in MATLAB. I almost had no hope</span></div>
<div style="position:absolute;left:58.50px;top:425.53px" class="cls_010"><span class="cls_010">in finishing the entire pipeline in time. However, I made</span></div>
<div style="position:absolute;left:58.51px;top:436.99px" class="cls_010"><span class="cls_010">my crucial decision moving back to Python, and very luck-</span></div>
<div style="position:absolute;left:58.50px;top:448.51px" class="cls_010"><span class="cls_010">ily, the problems were solved and the whole pipeline is</span></div>
<div style="position:absolute;left:313.92px;top:447.91px" class="cls_008"><span class="cls_008">Fig. 1. Original proposed pipeline of 3D reconstruction. The original</span></div>
<div style="position:absolute;left:313.92px;top:456.91px" class="cls_008"><span class="cls_008">schedule was finishing surface meshing before progress report. How-</span></div>
<div style="position:absolute;left:58.50px;top:460.03px" class="cls_010"><span class="cls_010">now ready for use.</span></div>
<div style="position:absolute;left:313.92px;top:465.91px" class="cls_008"><span class="cls_008">ever, many unexpected errors had led to delays and failed milestones.</span></div>
<div style="position:absolute;left:70.50px;top:471.49px" class="cls_010"><span class="cls_010">The general procedures of running this system is first cal-</span></div>
<div style="position:absolute;left:58.50px;top:483.01px" class="cls_010"><span class="cls_010">ibrating the image with calibrate script, available in Python,</span></div>
<div style="position:absolute;left:58.50px;top:494.53px" class="cls_010"><span class="cls_010">to calibrate the stereo imaging devices. There will be distor-</span></div>
<div style="position:absolute;left:314.82px;top:502.93px" class="cls_015"><span class="cls_015">2.1 Image Capturing and Calibration Stages</span></div>
<div style="position:absolute;left:58.50px;top:505.99px" class="cls_010"><span class="cls_010">tion factors in each camera, so it is best to remove distortion</span></div>
<div style="position:absolute;left:58.50px;top:517.51px" class="cls_010"><span class="cls_010">out of the object scans prior to the surface reconstruction.</span></div>
<div style="position:absolute;left:314.82px;top:516.85px" class="cls_010"><span class="cls_010">Capturing the images requires the scanning device pro-</span></div>
<div style="position:absolute;left:70.51px;top:529.03px" class="cls_010"><span class="cls_010">After calibrating the camera, the calibration data will be</span></div>
<div style="position:absolute;left:314.82px;top:528.37px" class="cls_010"><span class="cls_010">vided by Professor Charless Fowlkes, and the Professor</span></div>
<div style="position:absolute;left:58.51px;top:540.49px" class="cls_010"><span class="cls_010">stored in .pkl pickle file for other uses. To use MATLAB for</span></div>
<div style="position:absolute;left:314.82px;top:539.83px" class="cls_010"><span class="cls_010">has provided pre-scanned image sets for convenient starts.</span></div>
<div style="position:absolute;left:58.51px;top:552.01px" class="cls_010"><span class="cls_010">reconstructing 3D point cloud and computing meshes, it is</span></div>
<div style="position:absolute;left:314.82px;top:551.35px" class="cls_010"><span class="cls_010">The device, in essence, projects frames of structured lights</span></div>
<div style="position:absolute;left:58.50px;top:563.53px" class="cls_010"><span class="cls_010">required to run calibToMATLAB.py to encapsulate the</span></div>
<div style="position:absolute;left:314.82px;top:562.87px" class="cls_010"><span class="cls_010">(Gray code) onto the object, matching the points from left</span></div>
<div style="position:absolute;left:58.50px;top:574.99px" class="cls_010"><span class="cls_010">data into MATLAB matrix format. Otherwise, calibration</span></div>
<div style="position:absolute;left:314.81px;top:574.33px" class="cls_010"><span class="cls_010">and right camera data. Moreover, with my question, the</span></div>
<div style="position:absolute;left:58.50px;top:586.51px" class="cls_010"><span class="cls_010">data will be stored in cache folder as described above.</span></div>
<div style="position:absolute;left:314.82px;top:585.85px" class="cls_010"><span class="cls_010">Professor uploaded distortion free images so that we could</span></div>
<div style="position:absolute;left:70.50px;top:598.03px" class="cls_010"><span class="cls_010">For reconstructing point cloud and perform mesh clean-</span></div>
<div style="position:absolute;left:314.82px;top:597.37px" class="cls_010"><span class="cls_010">yield a better reconstruction result. See Figure 2a and 2b.</span></div>
<div style="position:absolute;left:58.49px;top:609.49px" class="cls_010"><span class="cls_010">ing, there will be two ways available, but Python has been</span></div>
<div style="position:absolute;left:326.82px;top:608.83px" class="cls_010"><span class="cls_010">For the calibration stage, since I chose not to use</span></div>
<div style="position:absolute;left:58.49px;top:621.01px" class="cls_010"><span class="cls_010">the main pipeline for processing. It has been found that Py-</span></div>
<div style="position:absolute;left:314.83px;top:620.35px" class="cls_010"><span class="cls_010">MATLAB as the primary coding language, there was no</span></div>
<div style="position:absolute;left:58.50px;top:632.53px" class="cls_010"><span class="cls_010">thon has a significantly better runtime efficiency compared</span></div>
<div style="position:absolute;left:314.83px;top:631.87px" class="cls_010"><span class="cls_010">provided libraries (e.g. Caltech calibration toolset) that do</span></div>
<div style="position:absolute;left:58.50px;top:643.99px" class="cls_010"><span class="cls_010">to MATLAB script, though MATLAB is better at visualiz-</span></div>
<div style="position:absolute;left:314.83px;top:643.33px" class="cls_010"><span class="cls_010">automatic image calibrations. There was also no support</span></div>
<div style="position:absolute;left:58.51px;top:655.51px" class="cls_010"><span class="cls_010">ing data, computing over large sets of images has pushed</span></div>
<div style="position:absolute;left:314.82px;top:654.85px" class="cls_010"><span class="cls_010">on Piazza over Python. Therefore, I had to research over</span></div>
<div style="position:absolute;left:58.51px;top:667.03px" class="cls_010"><span class="cls_010">me more to the Python side. Note that the MATLAB code</span></div>
<div style="position:absolute;left:314.82px;top:666.37px" class="cls_010"><span class="cls_010">online sources and discovered the calibration functions in</span></div>
<div style="position:absolute;left:58.51px;top:678.49px" class="cls_010"><span class="cls_010">base will be available upon request, however, it will not be</span></div>
<div style="position:absolute;left:314.82px;top:677.83px" class="cls_010"><span class="cls_010">the OpenCV libraries.</span></div>
<div style="position:absolute;left:58.50px;top:690.01px" class="cls_010"><span class="cls_010">provided in the uploaded code folder.</span></div>
<div style="position:absolute;left:326.82px;top:689.35px" class="cls_010"><span class="cls_010">The calibration program in calibrate.py assumes the</span></div>
<div style="position:absolute;left:314.82px;top:700.87px" class="cls_010"><span class="cls_010">chessboard has a shape in 8 by 6 (as provided) and com-</span></div>
<div style="position:absolute;left:126.42px;top:708.61px" class="cls_016"><span class="cls_016">————————————————</span></div>
<div style="position:absolute;left:314.81px;top:712.33px" class="cls_010"><span class="cls_010">pute the corners object coordinates with square width</span></div>
<div style="position:absolute;left:56.40px;top:720.61px" class="cls_017"><span class="cls_017"></span><span class="cls_018"> </span><span class="cls_009">Anthony Liu, Undergraduate Computer Science Student. Donald Bren</span></div>
<div style="position:absolute;left:314.82px;top:723.85px" class="cls_010"><span class="cls_010">measured (27.75mm in this case). It first finds the chess-</span></div>
<div style="position:absolute;left:64.38px;top:729.61px" class="cls_009"><span class="cls_009">School of Information and Computer Science, University of Califronia, Ir-</span></div>
<div style="position:absolute;left:64.38px;top:738.61px" class="cls_009"><span class="cls_009">vine. </span><span class="cls_008">haoyanl2&lt;at>uci.edu</span></div>
<div style="position:absolute;left:314.82px;top:735.37px" class="cls_010"><span class="cls_010">board corners by calling findChessboardCorners function</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:802px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/background2.jpg" width=612 height=792></div>
<div style="position:absolute;left:52.74px;top:30.42px" class="cls_019"><span class="cls_019">2</span></div>
<div style="position:absolute;left:360.54px;top:30.42px" class="cls_019"><span class="cls_019">CS 117 FINAL PROJECT REPORT ANTHONY LIU 79553180</span></div>
<div style="position:absolute;left:52.74px;top:59.52px" class="cls_020"><span class="cls_020">from Python OpenCV (cv2), and then improve the corner</span></div>
<div style="position:absolute;left:309.12px;top:59.52px" class="cls_020"><span class="cls_020">triangles, we will call mesh.m to do the job. The procedures</span></div>
<div style="position:absolute;left:52.74px;top:70.98px" class="cls_020"><span class="cls_020">detection accuracy with cv2.cornerSubPix algorithm. After</span></div>
<div style="position:absolute;left:309.12px;top:70.98px" class="cls_020"><span class="cls_020">of triangle generation and mesh cleaning is 1) to remove</span></div>
<div style="position:absolute;left:52.74px;top:82.50px" class="cls_020"><span class="cls_020">calculating the corners image coordinates, it computes the</span></div>
<div style="position:absolute;left:309.12px;top:82.50px" class="cls_020"><span class="cls_020">points outside a given bounding box. The bound box</span></div>
<div style="position:absolute;left:52.73px;top:94.02px" class="cls_020"><span class="cls_020">camera focal distance, principle points, rotation vector,</span></div>
<div style="position:absolute;left:309.12px;top:94.02px" class="cls_020"><span class="cls_020">boundaries can be set in demo.py, or be manually hard</span></div>
<div style="position:absolute;left:52.73px;top:105.48px" class="cls_020"><span class="cls_020">translation vector, and distortion matrix with cv2.cali-</span></div>
<div style="position:absolute;left:309.12px;top:105.48px" class="cls_020"><span class="cls_020">coded in mesh() function in mesh.py. Points outside the</span></div>
<div style="position:absolute;left:52.73px;top:117.00px" class="cls_020"><span class="cls_020">brateCamera function. Finally, the program evaluates the</span></div>
<div style="position:absolute;left:309.12px;top:117.00px" class="cls_020"><span class="cls_020">bounding box will be removed (Fig. 5).</span></div>
<div style="position:absolute;left:52.73px;top:128.52px" class="cls_020"><span class="cls_020">calibration result by re-projecting the points and saves the</span></div>
<div style="position:absolute;left:323.40px;top:128.52px" class="cls_020"><span class="cls_020">There are, however, circumstances that the default</span></div>
<div style="position:absolute;left:52.74px;top:139.98px" class="cls_020"><span class="cls_020">calibration data to .pkl file for future uses.</span></div>
<div style="position:absolute;left:309.12px;top:139.98px" class="cls_020"><span class="cls_020">boundary does not include any 3D points from the recon-</span></div>
<div style="position:absolute;left:64.74px;top:151.50px" class="cls_020"><span class="cls_020">For users who are more familiar with MATLAB, execut-</span></div>
<div style="position:absolute;left:309.12px;top:151.50px" class="cls_020"><span class="cls_020">structed point cloud. In this situation, you will need to</span></div>
<div style="position:absolute;left:52.74px;top:163.02px" class="cls_020"><span class="cls_020">ing calibrationToMATLAB.py will generate a .mat file con-</span></div>
<div style="position:absolute;left:309.12px;top:163.02px" class="cls_020"><span class="cls_020">manually adjust the boundaries in demo.py. 2) A list of tri-</span></div>
<div style="position:absolute;left:52.74px;top:174.48px" class="cls_020"><span class="cls_020">sisted of the calibration data to ../calibrations/ folder. In</span></div>
<div style="position:absolute;left:309.12px;top:174.48px" class="cls_020"><span class="cls_020">angles will be computed for triangular pruning right after</span></div>
<div style="position:absolute;left:52.74px;top:186.00px" class="cls_020"><span class="cls_020">that folder, you will find two calibration data files for</span></div>
<div style="position:absolute;left:309.12px;top:186.00px" class="cls_020"><span class="cls_020">rectangular bounded cleaning, this uses Delaunay triangu-</span></div>
<div style="position:absolute;left:52.74px;top:197.52px" class="cls_020"><span class="cls_020">MATLAB use, one for undistorted, and one for distorted.</span></div>
<div style="position:absolute;left:309.12px;top:197.52px" class="cls_020"><span class="cls_020">lation function from SciPy.spatial library. With this list of</span></div>
<div style="position:absolute;left:52.74px;top:208.98px" class="cls_020"><span class="cls_020">MATLAB scripts of the rest of MATLAB pipeline will be</span></div>
<div style="position:absolute;left:309.12px;top:208.98px" class="cls_020"><span class="cls_020">triangles, edge lengths are computed and triangles with</span></div>
<div style="position:absolute;left:52.74px;top:220.50px" class="cls_020"><span class="cls_020">available per request to haoyanl2&lt;at>uci.edu.</span></div>
<div style="position:absolute;left:309.12px;top:220.50px" class="cls_020"><span class="cls_020">edge longer than TRITHRESH will be removed. By default,</span></div>
<div style="position:absolute;left:309.12px;top:232.02px" class="cls_020"><span class="cls_020">TRITHRESH is set at 10. After triangular pruning, isolated</span></div>
<div style="position:absolute;left:309.12px;top:243.48px" class="cls_020"><span class="cls_020">points will be removed and triangle vertex indices (tridx)</span></div>
<div style="position:absolute;left:52.74px;top:250.56px" class="cls_021"><span class="cls_021">2.2 Reconstruction and Triangulation Stages</span></div>
<div style="position:absolute;left:309.12px;top:255.00px" class="cls_020"><span class="cls_020">will be mapped to their new corresponding points (Fig. 6).</span></div>
<div style="position:absolute;left:52.74px;top:264.48px" class="cls_020"><span class="cls_020">The reconstruction stage (reconstruct.py) utilizes the de-</span></div>
<div style="position:absolute;left:309.11px;top:266.52px" class="cls_020"><span class="cls_020">Note that the algorithm here computes at average case</span></div>
<div style="position:absolute;left:52.74px;top:276.00px" class="cls_020"><span class="cls_020">code program (decode.py), decoding the images sets with</span></div>
<div style="position:absolute;left:309.11px;top:277.98px" class="cls_020"><span class="cls_020">O(n</span><span class="cls_023"><sup>2</sup></span><span class="cls_020">) and worst-case O(n</span><span class="cls_023"><sup>3</sup></span><span class="cls_020">), significantly faster than the av-</span></div>
<div style="position:absolute;left:52.74px;top:287.52px" class="cls_020"><span class="cls_020">Gray code to find valid points, and find the corresponding</span></div>
<div style="position:absolute;left:309.12px;top:289.50px" class="cls_020"><span class="cls_020">erage case O(n</span><span class="cls_023"><sup>3</sup></span><span class="cls_020">) in MATLAB (n by n matrix and n vertices</span></div>
<div style="position:absolute;left:52.74px;top:298.98px" class="cls_020"><span class="cls_020">points between left and right images (Fig. 3). There are two</span></div>
<div style="position:absolute;left:309.12px;top:301.02px" class="cls_020"><span class="cls_020">in worst case).</span></div>
<div style="position:absolute;left:52.74px;top:310.50px" class="cls_020"><span class="cls_020">auxiliary functions implemented for the reconstruction</span></div>
<div style="position:absolute;left:323.10px;top:312.48px" class="cls_020"><span class="cls_020">After mesh cleaning, color values gathered from recon-</span></div>
<div style="position:absolute;left:52.74px;top:322.02px" class="cls_020"><span class="cls_020">function.  To  properly  use  these  functions,  it  requires</span></div>
<div style="position:absolute;left:309.12px;top:324.00px" class="cls_020"><span class="cls_020">struct.m are computed and mapped to 3D vertices (Fig. 8).</span></div>
<div style="position:absolute;left:52.74px;top:333.48px" class="cls_020"><span class="cls_020">NumPy   library   version</span></div>
<div style="position:absolute;left:168.36px;top:333.48px" class="cls_020"><span class="cls_020">1.13  or  newer.  The</span></div>
<div style="position:absolute;left:269.52px;top:333.48px" class="cls_020"><span class="cls_020">_inter-</span></div>
<div style="position:absolute;left:309.12px;top:335.52px" class="cls_020"><span class="cls_020">A trivia here was that OpenCV reads images in BGR color</span></div>
<div style="position:absolute;left:52.74px;top:345.00px" class="cls_020"><span class="cls_020">sect_matlab function was adapted from StackOverflow at</span></div>
<div style="position:absolute;left:309.12px;top:346.98px" class="cls_020"><span class="cls_020">space rather than RGB. The misconception here led me to</span></div>
<div style="position:absolute;left:52.74px;top:356.52px" class="cls_034"><span class="cls_034"> </span><A HREF="https://stackoverflow.com/questions/45637778/how-to-/">https://stackoverflow.com/questions/45637778/how-to-</A> </div>
<div style="position:absolute;left:309.12px;top:358.50px" class="cls_020"><span class="cls_020">30 minutes spent on researching the cause of blue color</span></div>
<div style="position:absolute;left:52.74px;top:367.98px" class="cls_034"><span class="cls_034">find-intersect-indexes-and-values-in-python.</span></div>
<div style="position:absolute;left:309.12px;top:370.02px" class="cls_020"><span class="cls_020">casting in final mesh. When color mapping is done, trian-</span></div>
<div style="position:absolute;left:67.02px;top:379.50px" class="cls_020"><span class="cls_020">The triangulation stage (calling triangulate() from tri-</span></div>
<div style="position:absolute;left:309.12px;top:381.48px" class="cls_020"><span class="cls_020">gle normal vectors are inverted following “Right-hand</span></div>
<div style="position:absolute;left:52.74px;top:391.02px" class="cls_020"><span class="cls_020">angulate.py) utilized the triangulation algorithm I wrote in</span></div>
<div style="position:absolute;left:309.12px;top:393.00px" class="cls_020"><span class="cls_020">rule” (counter-clockwise vertex order and normal in direc-</span></div>
<div style="position:absolute;left:52.74px;top:402.48px" class="cls_020"><span class="cls_020">the previous assignments. It uses the rotation and transla-</span></div>
<div style="position:absolute;left:309.12px;top:404.52px" class="cls_020"><span class="cls_020">tion of thumb). This is because most graphics libraries (i.e.</span></div>
<div style="position:absolute;left:52.74px;top:414.00px" class="cls_020"><span class="cls_020">tion matrices of each camera to compute eigen-vectors in</span></div>
<div style="position:absolute;left:309.12px;top:415.98px" class="cls_020"><span class="cls_020">OpenGL) as well as processing software (e.g. MeshLab)</span></div>
<div style="position:absolute;left:52.74px;top:425.52px" class="cls_020"><span class="cls_020">the directions to points, and it then computes the least</span></div>
<div style="position:absolute;left:309.12px;top:427.50px" class="cls_020"><span class="cls_020">utilize such counter-clockwise normal orientation, unlike</span></div>
<div style="position:absolute;left:52.74px;top:436.98px" class="cls_020"><span class="cls_020">square quadratic to solve the depth values Z</span><span class="cls_023">0</span><span class="cls_020"> and Z</span><span class="cls_023">1</span><span class="cls_020">. Fi-</span></div>
<div style="position:absolute;left:309.12px;top:439.02px" class="cls_020"><span class="cls_020">MATLAB doing so in reverse.</span></div>
<div style="position:absolute;left:52.74px;top:448.50px" class="cls_020"><span class="cls_020">nally, it computes the average of 3D coordinates from left</span></div>
<div style="position:absolute;left:321.12px;top:450.48px" class="cls_020"><span class="cls_020">The final cleaned up mesh will be saved as mesh.mat</span></div>
<div style="position:absolute;left:52.74px;top:460.02px" class="cls_020"><span class="cls_020">and right cameras [Eq. 1].</span></div>
<div style="position:absolute;left:309.12px;top:462.00px" class="cls_020"><span class="cls_020">(default path:  ../cache/) for performing neighbor smooth-</span></div>
<div style="position:absolute;left:309.12px;top:473.52px" class="cls_020"><span class="cls_020">ing and .ply file encapsulation in MATLAB. There are de-</span></div>
<div style="position:absolute;left:309.12px;top:484.98px" class="cls_020"><span class="cls_020">tailed console messages notifying user what are happening</span></div>
<div style="position:absolute;left:309.11px;top:496.50px" class="cls_020"><span class="cls_020">and what to do next. The file to run for the above function-</span></div>
<div style="position:absolute;left:309.12px;top:508.02px" class="cls_020"><span class="cls_020">alities is meshprocessing.m.</span></div>
<div style="position:absolute;left:321.12px;top:519.48px" class="cls_020"><span class="cls_020">Notice that for this section of the pipeline, I did NOT</span></div>
<div style="position:absolute;left:50.88px;top:520.44px" class="cls_025"><span class="cls_025">Eq [1]: Nonlinear least-squares solver solving the curve fitting problems</span></div>
<div style="position:absolute;left:309.12px;top:531.00px" class="cls_020"><span class="cls_020">make it automated with e.g. for loops for each grab. As I</span></div>
<div style="position:absolute;left:64.74px;top:544.44px" class="cls_020"><span class="cls_020">At the end of reconstruct.py, triangulation result is be-</span></div>
<div style="position:absolute;left:309.12px;top:542.52px" class="cls_020"><span class="cls_020">have noted in demo.py, I strongly believe that due to hu-</span></div>
<div style="position:absolute;left:52.74px;top:555.96px" class="cls_020"><span class="cls_020">ing  displayed  on  a  scatter  plot,  using  Axes3D  from</span></div>
<div style="position:absolute;left:309.13px;top:553.98px" class="cls_020"><span class="cls_020">man errors placing objects when scanning, the centers of</span></div>
<div style="position:absolute;left:52.74px;top:567.42px" class="cls_020"><span class="cls_020">mplot3d library (Fig. 4). After displaying the scatterplot,</span></div>
<div style="position:absolute;left:309.12px;top:565.50px" class="cls_020"><span class="cls_020">mass change over grabs, and it is not ideal for the user to</span></div>
<div style="position:absolute;left:52.74px;top:578.94px" class="cls_020"><span class="cls_020">the triangulated 3D points, corresponding image points</span></div>
<div style="position:absolute;left:309.12px;top:577.02px" class="cls_020"><span class="cls_020">redo the whole loop once they found one bounding box or</span></div>
<div style="position:absolute;left:52.74px;top:590.46px" class="cls_020"><span class="cls_020">from left and right cameras, and corresponding image</span></div>
<div style="position:absolute;left:309.12px;top:588.48px" class="cls_020"><span class="cls_020">TRITHRESH being not ideal. I also do not think that re-</span></div>
<div style="position:absolute;left:52.74px;top:601.92px" class="cls_020"><span class="cls_020">color values are saved to MATLAB data file and returned</span></div>
<div style="position:absolute;left:309.12px;top:600.00px" class="cls_020"><span class="cls_020">questing user inputs for every grab is an ideal choice since</span></div>
<div style="position:absolute;left:52.74px;top:613.44px" class="cls_020"><span class="cls_020">for mesh.py use.</span></div>
<div style="position:absolute;left:309.12px;top:611.52px" class="cls_020"><span class="cls_020">the users have no idea on the outcome thus no idea on the</span></div>
<div style="position:absolute;left:64.74px;top:624.96px" class="cls_020"><span class="cls_020">To better understand how reconstruct.py produce re-</span></div>
<div style="position:absolute;left:309.12px;top:622.98px" class="cls_020"><span class="cls_020">input values. Manually running on every grab ensures</span></div>
<div style="position:absolute;left:52.74px;top:636.42px" class="cls_020"><span class="cls_020">sults, reconstruct.py can be run alone with a non-empty</span></div>
<div style="position:absolute;left:309.12px;top:634.50px" class="cls_020"><span class="cls_020">maximum control and versatility over each mesh gener-</span></div>
<div style="position:absolute;left:52.74px;top:647.94px" class="cls_020"><span class="cls_020">scan directory and a not-null threshold value. If either</span></div>
<div style="position:absolute;left:309.12px;top:646.02px" class="cls_020"><span class="cls_020">ated.</span></div>
<div style="position:absolute;left:52.74px;top:659.46px" class="cls_020"><span class="cls_020">value is left blank the function will raise ValueError.</span></div>
<div style="position:absolute;left:64.74px;top:670.92px" class="cls_020"><span class="cls_020">For user convenience, there is a MATLAB script recon-</span></div>
<div style="position:absolute;left:309.12px;top:676.02px" class="cls_021"><span class="cls_021">2.4 Neighbor Smoothing and File Exporting</span></div>
<div style="position:absolute;left:52.74px;top:682.44px" class="cls_020"><span class="cls_020">structed_view.m in python_code/ for easier viewing of the</span></div>
<div style="position:absolute;left:309.12px;top:690.00px" class="cls_020"><span class="cls_020">This   section   utilizes   nbr_smooth   algorithm</span></div>
<div style="position:absolute;left:518.46px;top:690.00px" class="cls_020"><span class="cls_020">[1]  and</span></div>
<div style="position:absolute;left:52.74px;top:693.96px" class="cls_020"><span class="cls_020">reconstruction result and error checking.</span></div>
<div style="position:absolute;left:309.12px;top:701.52px" class="cls_020"><span class="cls_020">mesh_2_ply tool [2] provided by Professor Fowlkes and</span></div>
<div style="position:absolute;left:52.74px;top:712.50px" class="cls_021"><span class="cls_021">2.3 Delaunay Triangulation and Mesh Cleaning</span></div>
<div style="position:absolute;left:309.12px;top:712.98px" class="cls_020"><span class="cls_020">Omar Santiago from CS117 in Spring 2015. My deep appre-</span></div>
<div style="position:absolute;left:52.74px;top:726.42px" class="cls_020"><span class="cls_020">To generate meshes (triangles) with the 3D points from re-</span></div>
<div style="position:absolute;left:309.12px;top:724.50px" class="cls_020"><span class="cls_020">ciation gives to both of them.</span></div>
<div style="position:absolute;left:52.74px;top:737.94px" class="cls_020"><span class="cls_020">construct.py,  and  to  cleanup  bad  vertices  as  well  as</span></div>
<div style="position:absolute;left:321.12px;top:736.02px" class="cls_020"><span class="cls_020">Nbr_smooth algorithm run through the surfaces and</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:1604px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/background3.jpg" width=612 height=792></div>
<div style="position:absolute;left:58.50px;top:30.42px" class="cls_019"><span class="cls_019">LIU, UC IRVINE</span></div>
<div style="position:absolute;left:555.36px;top:30.42px" class="cls_019"><span class="cls_019">3</span></div>
<div style="position:absolute;left:58.50px;top:59.52px" class="cls_020"><span class="cls_020">compute the mean with the neighboring values. The value</span></div>
<div style="position:absolute;left:58.50px;top:70.98px" class="cls_020"><span class="cls_020">NBR_PASS was passed onto this program from mesh.py,</span></div>
<div style="position:absolute;left:58.50px;top:82.50px" class="cls_020"><span class="cls_020">and it sets the total round this neighbor smoothing is per-</span></div>
<div style="position:absolute;left:58.50px;top:94.02px" class="cls_020"><span class="cls_020">formed on each vertex.</span></div>
<div style="position:absolute;left:70.50px;top:105.48px" class="cls_020"><span class="cls_020">Mesh_2_ply function helps the users to encapsulate tri-</span></div>
<div style="position:absolute;left:58.50px;top:117.00px" class="cls_020"><span class="cls_020">angle indices and 3D points into .ply 3D model file. With</span></div>
<div style="position:absolute;left:58.50px;top:128.52px" class="cls_020"><span class="cls_020">such, users will be able to import their mesh result into 3D</span></div>
<div style="position:absolute;left:58.50px;top:139.98px" class="cls_020"><span class="cls_020">processing software, e.g. MeshLab.</span></div>
<div style="position:absolute;left:58.50px;top:170.04px" class="cls_021"><span class="cls_021">2.5 Alignment and Poisson Surface Reconstruction</span></div>
<div style="position:absolute;left:58.50px;top:184.02px" class="cls_020"><span class="cls_020">To align the meshes in a timely manner, we can use the ex-</span></div>
<div style="position:absolute;left:314.82px;top:189.96px" class="cls_025"><span class="cls_025">Fig. 2a. Ground truth and color image of teapot left view (grab 0).</span></div>
<div style="position:absolute;left:58.50px;top:195.48px" class="cls_020"><span class="cls_020">isted MeshLab - an open source software developed by</span></div>
<div style="position:absolute;left:58.50px;top:207.00px" class="cls_020"><span class="cls_020">Visual Computing Lab (see  </span><A HREF="http://www.meshlab.net/">http://www.meshlab.net</A> </span><span class="cls_020"> for</span></div>
<div style="position:absolute;left:58.50px;top:218.52px" class="cls_020"><span class="cls_020">more detail) [3].</span></div>
<div style="position:absolute;left:70.50px;top:229.98px" class="cls_020"><span class="cls_020">In MeshLab software, after we import all the meshes</span></div>
<div style="position:absolute;left:58.50px;top:241.50px" class="cls_020"><span class="cls_020">generated from the earlier scripts in the pipeline, we can</span></div>
<div style="position:absolute;left:58.50px;top:253.02px" class="cls_020"><span class="cls_020">use point-based alignment tool in ‘Align’ menu. For higher</span></div>
<div style="position:absolute;left:58.50px;top:264.48px" class="cls_020"><span class="cls_020">accuracy regarding smooth surfaces, it is suggested that</span></div>
<div style="position:absolute;left:58.50px;top:276.00px" class="cls_020"><span class="cls_020">users should unclick “use false color” as they are using</span></div>
<div style="position:absolute;left:58.50px;top:287.52px" class="cls_020"><span class="cls_020">point cloud alignment tool. Once all the meshes are aligned</span></div>
<div style="position:absolute;left:58.50px;top:298.98px" class="cls_020"><span class="cls_020">and glued, press “Process” to further reduce the inac-</span></div>
<div style="position:absolute;left:58.50px;top:310.50px" class="cls_020"><span class="cls_020">cuaracy.</span></div>
<div style="position:absolute;left:70.50px;top:322.02px" class="cls_020"><span class="cls_020">It is also possible to implement such alignment in</span></div>
<div style="position:absolute;left:58.51px;top:333.48px" class="cls_020"><span class="cls_020">MATLAB. To compute the alignment transformation ma-</span></div>
<div style="position:absolute;left:58.50px;top:345.00px" class="cls_020"><span class="cls_020">trices such as rotation and translation matrices, we will ask</span></div>
<div style="position:absolute;left:318.18px;top:345.96px" class="cls_025"><span class="cls_025">Fig. 2b. Ground truth and color image of teapot right view (grab 0).</span></div>
<div style="position:absolute;left:58.50px;top:356.52px" class="cls_020"><span class="cls_020">the users to click on points. Once we have points clicked,</span></div>
<div style="position:absolute;left:58.50px;top:367.98px" class="cls_020"><span class="cls_020">we will apply a similar algorithm as we used to triangulate</span></div>
<div style="position:absolute;left:58.50px;top:379.50px" class="cls_020"><span class="cls_020">points, computing the singular value decomposition (SVD)</span></div>
<div style="position:absolute;left:58.50px;top:391.02px" class="cls_020"><span class="cls_020">and two transformation matrices with least errors [4].</span></div>
<div style="position:absolute;left:58.50px;top:402.48px" class="cls_020"><span class="cls_020">However, due to the matter of time, this algorithm was not</span></div>
<div style="position:absolute;left:58.49px;top:414.00px" class="cls_020"><span class="cls_020">implemented in MATLAB.</span></div>
<div style="position:absolute;left:70.49px;top:425.52px" class="cls_020"><span class="cls_020">With the meshes aligned, there are still holes and rough</span></div>
<div style="position:absolute;left:58.50px;top:436.98px" class="cls_020"><span class="cls_020">surfaces. We will need to perform surface reconstruction</span></div>
<div style="position:absolute;left:58.50px;top:448.50px" class="cls_020"><span class="cls_020">on our combined mesh. In this case, we adapt “Screen Sur-</span></div>
<div style="position:absolute;left:58.50px;top:460.02px" class="cls_020"><span class="cls_020">face Reconstruction” algorithm developed by Michael Ka-</span></div>
<div style="position:absolute;left:58.50px;top:471.48px" class="cls_020"><span class="cls_020">zhdan (Johns Hopkins University) and Hugues Hoppe</span></div>
<div style="position:absolute;left:58.50px;top:483.00px" class="cls_020"><span class="cls_020">(Microsoft Research) [5]. Before executing the surface re-</span></div>
<div style="position:absolute;left:58.50px;top:494.52px" class="cls_020"><span class="cls_020">construction, it is advised that users read the original jour-</span></div>
<div style="position:absolute;left:318.54px;top:501.96px" class="cls_025"><span class="cls_025">Fig. 3. Gray code being projected on to objects. Gray code maps the</span></div>
<div style="position:absolute;left:58.50px;top:505.98px" class="cls_020"><span class="cls_020">nal and instruction first.</span></div>
<div style="position:absolute;left:340.62px;top:510.96px" class="cls_025"><span class="cls_025">correspondencies between left and right camera grabs.</span></div>
<div style="position:absolute;left:70.50px;top:517.50px" class="cls_020"><span class="cls_020">Once we have a set of parameters in mind, we can press</span></div>
<div style="position:absolute;left:58.50px;top:529.02px" class="cls_020"><span class="cls_020">process and wait for the final reconstruction result!</span></div>
<div style="position:absolute;left:70.50px;top:540.48px" class="cls_020"><span class="cls_020">Be aware that the MeshLab is not bug-free so at times it</span></div>
<div style="position:absolute;left:58.51px;top:552.00px" class="cls_020"><span class="cls_020">will show error of unreferenced vertices before surface re-</span></div>
<div style="position:absolute;left:58.50px;top:563.52px" class="cls_020"><span class="cls_020">construction. Try cleaning the unreferenced vertices or iso-</span></div>
<div style="position:absolute;left:58.50px;top:574.98px" class="cls_020"><span class="cls_020">lated triangles to stop the error message. Detailed instruc-</span></div>
<div style="position:absolute;left:58.50px;top:586.50px" class="cls_020"><span class="cls_020">tion will be provided in README.txt.</span></div>
<div style="position:absolute;left:58.50px;top:624.66px" class="cls_027"><span class="cls_027">3   D</span><span class="cls_028">EMONSTRATIONS AND </span><span class="cls_027">F</span><span class="cls_028">IGURES</span></div>
<div style="position:absolute;left:58.50px;top:642.48px" class="cls_020"><span class="cls_020">Below are original scan files and screenshots of running the</span></div>
<div style="position:absolute;left:58.50px;top:654.00px" class="cls_020"><span class="cls_020">demo scripts:</span></div>
<div style="position:absolute;left:314.82px;top:713.46px" class="cls_025"><span class="cls_025">Fig. 4. Triangulated and reconstructed point cloud with teapot grab</span></div>
<div style="position:absolute;left:314.82px;top:722.46px" class="cls_025"><span class="cls_025">0 in reconstruct_view.m.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:2406px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/background4.jpg" width=612 height=792></div>
<div style="position:absolute;left:52.74px;top:30.42px" class="cls_019"><span class="cls_019">4</span></div>
<div style="position:absolute;left:360.54px;top:30.42px" class="cls_019"><span class="cls_019">CS 117 FINAL PROJECT REPORT ANTHONY LIU 79553180</span></div>
<div style="position:absolute;left:329.28px;top:209.46px" class="cls_025"><span class="cls_025">Fig. 7b. Meshprocessing.m with real time status feedback.</span></div>
<div style="position:absolute;left:52.74px;top:247.62px" class="cls_025"><span class="cls_025">Fig. 5. Bounding box (red asterisks) and camera positions (green o)</span></div>
<div style="position:absolute;left:52.74px;top:256.62px" class="cls_025"><span class="cls_025">shown (MATLAB pipeline only).</span></div>
<div style="position:absolute;left:309.12px;top:429.96px" class="cls_025"><span class="cls_025">Fig. 8. Single refined mesh with HD texture mapped. Viewed in Win-</span></div>
<div style="position:absolute;left:309.12px;top:438.96px" class="cls_025"><span class="cls_025">dows 3D Builder.</span></div>
<div style="position:absolute;left:63.66px;top:457.80px" class="cls_025"><span class="cls_025">Fig. 6. Trisurf showing final processed mesh with colormap jet.</span></div>
<div style="position:absolute;left:309.12px;top:649.14px" class="cls_025"><span class="cls_025">Fig. 9a. Fully aligned and reconstructed teapot with HD texture</span></div>
<div style="position:absolute;left:309.12px;top:658.14px" class="cls_025"><span class="cls_025">mapped. Viewed in Windows 3D Builder.</span></div>
<div style="position:absolute;left:64.92px;top:683.34px" class="cls_025"><span class="cls_025">Fig. 7a. Python demo.py API with continuous status feedback.</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:3208px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/background5.jpg" width=612 height=792></div>
<div style="position:absolute;left:58.50px;top:30.43px" class="cls_002"><span class="cls_002">LIU, UC IRVINE</span></div>
<div style="position:absolute;left:555.36px;top:30.43px" class="cls_002"><span class="cls_002">5</span></div>
<div style="position:absolute;left:314.82px;top:58.63px" class="cls_012"><span class="cls_012">5   T</span><span class="cls_013">RIVIA AND </span><span class="cls_012">I</span><span class="cls_013">NTROSPECTION</span></div>
<div style="position:absolute;left:314.82px;top:76.51px" class="cls_010"><span class="cls_010">Talking about the coding part has been a painful job for me.</span></div>
<div style="position:absolute;left:314.82px;top:88.03px" class="cls_010"><span class="cls_010">This is not the only time I dreamed big when proposing</span></div>
<div style="position:absolute;left:314.82px;top:99.49px" class="cls_010"><span class="cls_010">but found out later how complicated a job can be. Python</span></div>
<div style="position:absolute;left:314.82px;top:111.01px" class="cls_010"><span class="cls_010">has not been the best tool for mathematical operations like</span></div>
<div style="position:absolute;left:314.82px;top:122.53px" class="cls_010"><span class="cls_010">3D geometricals and linear algebras. Although the pro-</span></div>
<div style="position:absolute;left:314.82px;top:133.99px" class="cls_010"><span class="cls_010">gram I wrote in Python performed significantly faster than</span></div>
<div style="position:absolute;left:314.82px;top:145.51px" class="cls_010"><span class="cls_010">any in MATLAB, I would say MATLAB has many ad-</span></div>
<div style="position:absolute;left:314.82px;top:157.03px" class="cls_010"><span class="cls_010">vantages over Python. A small example would be being</span></div>
<div style="position:absolute;left:314.82px;top:168.49px" class="cls_010"><span class="cls_010">able to freely rotate around 3D scatterplot. When I finished</span></div>
<div style="position:absolute;left:314.82px;top:180.01px" class="cls_010"><span class="cls_010">with reconstruct.py and triangulate.py, my 3D points were</span></div>
<div style="position:absolute;left:314.82px;top:191.53px" class="cls_010"><span class="cls_010">extremely out of shape. 3D scatterplot rotation is not al-</span></div>
<div style="position:absolute;left:314.82px;top:202.99px" class="cls_010"><span class="cls_010">lowed in Python, so I had to write scripts to transfer the</span></div>
<div style="position:absolute;left:314.82px;top:214.51px" class="cls_010"><span class="cls_010">reconstruction data to MATLAB and analyze them.</span></div>
<div style="position:absolute;left:326.82px;top:226.03px" class="cls_010"><span class="cls_010">Furthermore, there were two major setbacks during the</span></div>
<div style="position:absolute;left:58.50px;top:237.97px" class="cls_008"><span class="cls_008">Fig. 9a. Final aligned and reconstructed couple with HD texture</span></div>
<div style="position:absolute;left:314.82px;top:237.49px" class="cls_010"><span class="cls_010">road to this finale. One being spending too much time ex-</span></div>
<div style="position:absolute;left:58.50px;top:246.97px" class="cls_008"><span class="cls_008">mapped. Viewed in Windows 3D Builder.</span></div>
<div style="position:absolute;left:314.82px;top:249.01px" class="cls_010"><span class="cls_010">amine the appropriate boundaries and parameters for</span></div>
<div style="position:absolute;left:314.82px;top:260.53px" class="cls_010"><span class="cls_010">mesh cleaning. The other being spending too much time</span></div>
<div style="position:absolute;left:314.82px;top:271.99px" class="cls_010"><span class="cls_010">on aligning the 3D meshes due to unforeseen bad MeshLab</span></div>
<div style="position:absolute;left:314.82px;top:283.51px" class="cls_010"><span class="cls_010">alignments. Neither can be avoided nicely... I have yet to</span></div>
<div style="position:absolute;left:314.82px;top:295.03px" class="cls_010"><span class="cls_010">try all the possible combination over parameters, and I be-</span></div>
<div style="position:absolute;left:314.82px;top:306.49px" class="cls_010"><span class="cls_010">lieve I only attempted a tip of an iceburg. Yet, I am satisfied</span></div>
<div style="position:absolute;left:314.82px;top:318.01px" class="cls_010"><span class="cls_010">with all the attempts I made, whether they were bad or</span></div>
<div style="position:absolute;left:314.82px;top:329.53px" class="cls_010"><span class="cls_010">good attempts.</span></div>
<div style="position:absolute;left:314.82px;top:356.17px" class="cls_012"><span class="cls_012">6   H</span><span class="cls_013">ELPFUL </span><span class="cls_012">H</span><span class="cls_013">INTS</span></div>
<div style="position:absolute;left:332.82px;top:373.99px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  Detailed instructions on how to run the pipeline</span></div>
<div style="position:absolute;left:346.32px;top:385.51px" class="cls_010"><span class="cls_010">are available in “README.txt”. Please read be-</span></div>
<div style="position:absolute;left:346.32px;top:397.03px" class="cls_010"><span class="cls_010">fore running the program</span></div>
<div style="position:absolute;left:332.82px;top:412.51px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  Disable “False color” in MeshLab alignment to</span></div>
<div style="position:absolute;left:346.32px;top:424.03px" class="cls_010"><span class="cls_010">see the mesh color textures</span></div>
<div style="position:absolute;left:332.82px;top:439.51px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  Try Delaunay triangulation with both xR and xL</span></div>
<div style="position:absolute;left:346.32px;top:451.03px" class="cls_010"><span class="cls_010">to see whichever yields better result</span></div>
<div style="position:absolute;left:58.50px;top:464.23px" class="cls_008"><span class="cls_008">Fig. 10. Final aligned and reconstructed couple with HD texture</span></div>
<div style="position:absolute;left:332.82px;top:466.51px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  OpenCV  imread()  returns  color  channels  in</span></div>
<div style="position:absolute;left:58.50px;top:473.23px" class="cls_008"><span class="cls_008">mapped. Generated .3mf files and displayed in Microsoft Word.</span></div>
<div style="position:absolute;left:346.32px;top:478.03px" class="cls_010"><span class="cls_010">“BGR”  order.  MATLAB  imread()  returns  in</span></div>
<div style="position:absolute;left:346.32px;top:489.49px" class="cls_010"><span class="cls_010">“RGB” order.</span></div>
<div style="position:absolute;left:58.50px;top:497.89px" class="cls_012"><span class="cls_012">4   R</span><span class="cls_013">ECONSTRUCTION </span><span class="cls_012">R</span><span class="cls_013">ESULT </span><span class="cls_012">E</span><span class="cls_013">VALUATION</span></div>
<div style="position:absolute;left:332.82px;top:504.97px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  Do as many scans as you can to avoid as much</span></div>
<div style="position:absolute;left:58.50px;top:515.77px" class="cls_010"><span class="cls_010">Rating the result compared to best expected outcome, this</span></div>
<div style="position:absolute;left:346.32px;top:516.49px" class="cls_010"><span class="cls_010">error as possible and to produce nice result</span></div>
<div style="position:absolute;left:58.50px;top:527.23px" class="cls_010"><span class="cls_010">pipeline is rated 8 out of 10. There are shortcomings of this</span></div>
<div style="position:absolute;left:332.82px;top:531.97px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  Check inputted file paths if find any unknown</span></div>
<div style="position:absolute;left:58.50px;top:538.75px" class="cls_010"><span class="cls_010">system, for example, a lack of accuracy when aligning the</span></div>
<div style="position:absolute;left:346.32px;top:543.49px" class="cls_010"><span class="cls_010">errors in the program.</span></div>
<div style="position:absolute;left:58.51px;top:550.27px" class="cls_010"><span class="cls_010">meshes, causing the more complex parts (e.g. hair) to</span></div>
<div style="position:absolute;left:332.82px;top:558.97px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  Python IDLE will not run this program</span></div>
<div style="position:absolute;left:58.51px;top:561.73px" class="cls_010"><span class="cls_010">misalign and reconstructed as a weird shape.</span></div>
<div style="position:absolute;left:70.51px;top:573.25px" class="cls_010"><span class="cls_010">Noisy data is rare, though it exists. There had been iso-</span></div>
<div style="position:absolute;left:332.82px;top:574.51px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  MATLAB = visualization; Python = Efficiency</span></div>
<div style="position:absolute;left:58.50px;top:584.77px" class="cls_010"><span class="cls_010">lated surfaces and weird triangle spiking out from the</span></div>
<div style="position:absolute;left:332.82px;top:589.99px" class="cls_011"><span class="cls_011"></span><span class="cls_030"> </span><span class="cls_010">  MeshLab is not bug-free, however, its tools are</span></div>
<div style="position:absolute;left:58.50px;top:596.23px" class="cls_010"><span class="cls_010">meshes, causing the final reconstruction result to be noisy.</span></div>
<div style="position:absolute;left:346.32px;top:601.51px" class="cls_010"><span class="cls_010">quite useful</span></div>
<div style="position:absolute;left:58.50px;top:607.75px" class="cls_010"><span class="cls_010">The countour of the reconstructed model, nevertheless, is</span></div>
<div style="position:absolute;left:58.50px;top:619.27px" class="cls_010"><span class="cls_010">in fact closer to ground truth than originally expected.</span></div>
<div style="position:absolute;left:70.50px;top:630.73px" class="cls_010"><span class="cls_010">Moreover,  some  meshes  display  significant  mesh</span></div>
<div style="position:absolute;left:314.82px;top:628.15px" class="cls_012"><span class="cls_012">7</span><span class="cls_031"> </span><span class="cls_012">  C</span><span class="cls_013">ONCLUSION AND </span><span class="cls_012">F</span><span class="cls_013">UTURE </span><span class="cls_012">W</span><span class="cls_013">ORK</span></div>
<div style="position:absolute;left:58.50px;top:642.25px" class="cls_010"><span class="cls_010">stretching in camera Z axis direction away from the camera</span></div>
<div style="position:absolute;left:314.82px;top:646.03px" class="cls_010"><span class="cls_010">This project has achieved a milestone for now, however, it</span></div>
<div style="position:absolute;left:58.50px;top:653.77px" class="cls_010"><span class="cls_010">position. The reason is yet unknown, though it has been</span></div>
<div style="position:absolute;left:314.82px;top:657.49px" class="cls_010"><span class="cls_010">will not be suspended as CS117 course ends. It is now</span></div>
<div style="position:absolute;left:58.50px;top:665.23px" class="cls_010"><span class="cls_010">thought because of camera calibration errors and remained</span></div>
<div style="position:absolute;left:314.82px;top:669.01px" class="cls_010"><span class="cls_010">available in MATLAB and Python versions, and I will con-</span></div>
<div style="position:absolute;left:58.50px;top:676.75px" class="cls_010"><span class="cls_010">distortion factors.</span></div>
<div style="position:absolute;left:314.82px;top:680.53px" class="cls_010"><span class="cls_010">tinue to develop them as I graduates. For the next months,</span></div>
<div style="position:absolute;left:70.50px;top:688.27px" class="cls_010"><span class="cls_010">Some meshes, however, have less common points with</span></div>
<div style="position:absolute;left:314.81px;top:691.99px" class="cls_010"><span class="cls_010">external code (e.g. nbr_smooth, mesh_2_ply) will be re-</span></div>
<div style="position:absolute;left:58.50px;top:699.73px" class="cls_010"><span class="cls_010">the other meshes. This caused some alignment steps to be</span></div>
<div style="position:absolute;left:314.81px;top:703.51px" class="cls_010"><span class="cls_010">placed by self developed, more efficient algorithms. Since</span></div>
<div style="position:absolute;left:58.50px;top:711.25px" class="cls_010"><span class="cls_010">much more difficult than the rests. In both cases above, in</span></div>
<div style="position:absolute;left:314.82px;top:715.03px" class="cls_010"><span class="cls_010">the time was limited and the alignment has not been very</span></div>
<div style="position:absolute;left:58.50px;top:722.77px" class="cls_010"><span class="cls_010">some circumstances manual alignments were adapted to</span></div>
<div style="position:absolute;left:314.82px;top:726.49px" class="cls_010"><span class="cls_010">promising, I will be looking for alternative ways to com-</span></div>
<div style="position:absolute;left:58.50px;top:734.23px" class="cls_010"><span class="cls_010">achieve better results than point-based alignment.</span></div>
<div style="position:absolute;left:314.82px;top:738.01px" class="cls_010"><span class="cls_010">pute the correspondencies (e.g. using SVD and LSQ).</span></div>
</div>
<div style="position:absolute;left:50%;margin-left:-306px;top:4010px;width:612px;height:792px;border-style:outset;overflow:hidden">
<div style="position:absolute;left:0px;top:0px">
<img src="24af9534-0166-11ea-9d71-0cc47a792c0a_id_24af9534-0166-11ea-9d71-0cc47a792c0a_files/background6.jpg" width=612 height=792></div>
<div style="position:absolute;left:52.74px;top:30.42px" class="cls_019"><span class="cls_019">6</span></div>
<div style="position:absolute;left:360.54px;top:30.42px" class="cls_019"><span class="cls_019">CS 117 FINAL PROJECT REPORT ANTHONY LIU 79553180</span></div>
<div style="position:absolute;left:52.74px;top:59.52px" class="cls_020"><span class="cls_020">Nevertheless, I have been glad that this 3-week journey has</span></div>
<div style="position:absolute;left:52.74px;top:70.98px" class="cls_020"><span class="cls_020">produced a decent looking result.</span></div>
<div style="position:absolute;left:52.74px;top:97.62px" class="cls_027"><span class="cls_027">8</span><span class="cls_032"> </span><span class="cls_027">  E</span><span class="cls_028">NDNOTES</span></div>
<div style="position:absolute;left:52.74px;top:115.50px" class="cls_020"><span class="cls_020">All  the  operation  guidelines  are  enclosed  in  the  RE-</span></div>
<div style="position:absolute;left:52.74px;top:127.02px" class="cls_020"><span class="cls_020">ADME.txt file. Please contact at my email if you experience</span></div>
<div style="position:absolute;left:52.74px;top:138.48px" class="cls_020"><span class="cls_020">any runtime error or have any questions about instruc-</span></div>
<div style="position:absolute;left:52.74px;top:150.00px" class="cls_020"><span class="cls_020">tions. This pipeline should be very easy to manipulate with</span></div>
<div style="position:absolute;left:52.74px;top:161.52px" class="cls_020"><span class="cls_020">once your environment variables and parameters (e.g. file</span></div>
<div style="position:absolute;left:52.74px;top:172.98px" class="cls_020"><span class="cls_020">paths, boundaries) are set correctly.</span></div>
<div style="position:absolute;left:67.02px;top:184.50px" class="cls_020"><span class="cls_020">On the other hand, I have been advised that a real time</span></div>
<div style="position:absolute;left:52.74px;top:196.02px" class="cls_020"><span class="cls_020">3D scanning project with AR kit on Apple iOS platform is</span></div>
<div style="position:absolute;left:52.73px;top:207.48px" class="cls_020"><span class="cls_020">on proposal. I would be very glad if I would be able to in-</span></div>
<div style="position:absolute;left:52.74px;top:219.00px" class="cls_020"><span class="cls_020">tegrate some parts of my system onto this project.</span></div>
<div style="position:absolute;left:52.74px;top:243.30px" class="cls_027"><span class="cls_027">A</span><span class="cls_028">CKNOWLEDGMENT</span></div>
<div style="position:absolute;left:52.74px;top:262.02px" class="cls_020"><span class="cls_020">I wish to thank Professor Charless Fowlkes in person for</span></div>
<div style="position:absolute;left:52.74px;top:273.48px" class="cls_020"><span class="cls_020">teaching me CS116 and 117 for two quarters, guiding me</span></div>
<div style="position:absolute;left:52.74px;top:285.00px" class="cls_020"><span class="cls_020">through a whole new area of unknown. I would also like</span></div>
<div style="position:absolute;left:52.74px;top:296.52px" class="cls_020"><span class="cls_020">to thank TA Kirak for holding scanning session and an-</span></div>
<div style="position:absolute;left:52.74px;top:307.98px" class="cls_020"><span class="cls_020">swering    Piazza    regularly;    Omar    Santiago    for</span></div>
<div style="position:absolute;left:52.74px;top:319.50px" class="cls_020"><span class="cls_020">mesh_2_ply.m. Also, my appreciation goes to all the stu-</span></div>
<div style="position:absolute;left:52.74px;top:331.02px" class="cls_020"><span class="cls_020">dent Piazza responders who have provided me good ad-</span></div>
<div style="position:absolute;left:52.74px;top:342.48px" class="cls_020"><span class="cls_020">vices.</span></div>
<div style="position:absolute;left:52.74px;top:366.78px" class="cls_027"><span class="cls_027">R</span><span class="cls_028">EFERENCES</span></div>
<div style="position:absolute;left:52.74px;top:387.00px" class="cls_025"><span class="cls_025">[1]   C. Fowlkes. University of California, Irvine: CS117 Project Re-</span></div>
<div style="position:absolute;left:70.74px;top:398.52px" class="cls_025"><span class="cls_025">sources. </span><A HREF="http://www.ics.uci.edu/~fowlkes/class/cs117/code/pro-/">http://www.ics.uci.edu/~fowlkes/class/cs117/code/pro-</A> </div>
<div style="position:absolute;left:70.74px;top:410.04px" class="cls_025"><span class="cls_025">ject/project_code/nbr_smooth.m. Web archive.</span></div>
<div style="position:absolute;left:52.74px;top:421.50px" class="cls_025"><span class="cls_025">[2]   O. Santiago, C. Fowlkes. University of California, Irvine: CS117</span></div>
<div style="position:absolute;left:70.74px;top:433.02px" class="cls_025"><span class="cls_025"> </span><A HREF="http://www.ics.uci.edu/~fowlkes/class/cs117/code/project/pro-/">http://www.ics.uci.edu/~fowlkes/class/cs117/code/project/pro-</A> </div>
<div style="position:absolute;left:70.74px;top:444.54px" class="cls_025"><span class="cls_025">ject_code/mesh_2_ply.m. Web archive.</span></div>
<div style="position:absolute;left:52.74px;top:456.00px" class="cls_025"><span class="cls_025">[3]   P. Cignoni, M. Callieri, M. Corsini, M. Dellepiane, F. Ganovelli,</span></div>
<div style="position:absolute;left:70.74px;top:467.52px" class="cls_025"><span class="cls_025">G. Ranzuglia. “MeshLab: An Open-Source Mesh Processing</span></div>
<div style="position:absolute;left:70.74px;top:479.04px" class="cls_025"><span class="cls_025">Tool.” Sixth Eurographics Italian Chapter Conference, page 129-</span></div>
<div style="position:absolute;left:70.74px;top:490.50px" class="cls_025"><span class="cls_025">136, 2008</span></div>
<div style="position:absolute;left:52.74px;top:502.02px" class="cls_025"><span class="cls_025">[4]   O. S. Horung, M. Rabinovich. “Least-Squares Regid Motion Us-</span></div>
<div style="position:absolute;left:70.74px;top:513.54px" class="cls_025"><span class="cls_025">ing SVD”. Department of Computer Science, ETH Zurich. 2017</span></div>
<div style="position:absolute;left:52.74px;top:525.00px" class="cls_025"><span class="cls_025">[5]   M. Kazhdan, H. Hoppe. “Screened poisson surface reconstruc-</span></div>
<div style="position:absolute;left:70.74px;top:536.52px" class="cls_025"><span class="cls_025">tion.” ACM Transactions on Graphics (TOG), 32(3), 29, 2013.</span></div>
<div style="position:absolute;left:70.73px;top:548.04px" class="cls_025"><span class="cls_025"> </span><A HREF="http://www.cs.jhu.edu/~misha/mypapers/tog13.pdf./">http://www.cs.jhu.edu/~misha/MyPapers/ToG13.pdf.</A> Web.</div>
</div>

</body>
</html>
